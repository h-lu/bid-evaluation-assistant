# 辅助评标专家系统（Bid Evaluation Assistant）

> 当前文档版本：v3.0（2026-02-21）
> 当前定位：端到端方案与设计基线仓库

---

## 项目定位

本项目是一个“AI 辅助 + 专家最终决策”的评标系统设计基线，目标是：

- 提升投标文件处理与评审效率
- 提供可追溯的评估证据链
- 在关键节点保留人工复核（HITL）
- 满足多租户隔离与审计合规要求

注意：

- 本仓库当前以设计文档为主，不是完整可运行的业务代码仓库。
- 本仓库已清理旧调研文档，保留统一设计文档集合。

---

## 3 分钟读懂系统

1. 主流程：上传文档 -> 解析建库 -> 检索评估 -> 人工复核 -> 报告归档
2. 长任务：统一异步执行（`job_id`），失败进入 DLQ 后再标记 `failed`
3. 多租户：`tenant_id` + RLS + 向量命名空间 + 缓存前缀
4. 发布门禁：质量 + 性能 + 安全合规 + 成本

---

## 端到端架构（ASCII）

```text
+---------------------+      +------------------+      +------------------+
| 评标专家 / 招标代理  | ---> | 前端 (Vue3)      | ---> | FastAPI API      |
+---------------------+      +------------------+      +--------+---------+
                                                            | enqueue
                                                            v
                                                     +------+------+
                                                     | Redis Queue |
                                                     +------+------+
                                                            |
                                                            v
                                                     +------+------+
                                                     | Worker      |
                                                     +--+-------+--+
                                                        |       |
                                          parse/index   |       | evaluate
                                                        v       v
                                             +----------+--+  +-------------------+
                                             | MinerU/Docling|  | LangGraph WF    |
                                             +----------+--+  +---------+---------+
                                                        |                |
                                                        v                v
                                           +------------+----------------+-----------+
                                           | PostgreSQL / Chroma / Redis            |
                                           +------------+----------------+-----------+
                                                        |                |
                                                        | hitl=yes       | hitl=no
                                                        v                v
                                               +--------+-----+   +------+---------+
                                               | 人工复核      |   | 报告生成与归档 |
                                               +--------------+   +----------------+
```

---

## 文档导航

### 核心总览（先读）

- `docs/plans/2026-02-21-end-to-end-unified-design.md`

### 详细设计（按需读）

- `docs/design/2026-02-21-implementation-plan.md`
- `docs/design/2026-02-21-rest-api-specification.md`
- `docs/design/2026-02-21-security-design.md`
- `docs/design/2026-02-21-deployment-config.md`
- `docs/design/2026-02-21-testing-strategy.md`

推荐阅读顺序：

1. 统一方案
2. API 规范
3. 安全与部署
4. 测试策略
5. 实施计划

---

## 外部项目参考策略

本项目采用“直接采用 + 借鉴设计 + 明确不采用”三段式策略：

### 直接采用（核心能力）

- LightRAG
- MinerU
- Docling
- LangGraph

### 借鉴设计（不直接依赖）

- RAGFlow（工程化 pipeline 思路）
- Agentic-Procure-Audit-AI（任务拆解与角色分工）
- RAG-Anything（多模态处理模式）

### MVP 明确不采用

- Neo4j（当前规模下复杂度偏高）
- Milvus（当前阶段成本/复杂度偏高）
- 完整微服务（当前交付阶段不匹配）

详细说明见：

- `docs/plans/2026-02-21-end-to-end-unified-design.md`

---

## 当前关键约束

- 不做全自动终审决策，专家承担最终裁量。
- HITL 必须保留，且支持中断/恢复。
- 多租户隔离为硬约束，不是可选项。
- 审计与留存策略（含 `legal_hold` + WORM）必须满足。

---

## 发布门禁（摘要）

- 质量：RAGAS + DeepEval 达标
- 性能：SLO 达标（含预警阈值/违约阈值）
- 安全：租户隔离、审计链、漏洞扫描通过
- 成本：预算门禁达标，超阈值触发降级策略

详细阈值以统一方案与测试策略为准。

---

## 维护说明

- 统一方案文档（SSOT）优先级最高。
- 子文档必须与 SSOT 一致。
- 修改设计时，优先更新：
  1. `docs/plans/2026-02-21-end-to-end-unified-design.md`
  2. 对应子文档
  3. 本 README（导航与摘要）
